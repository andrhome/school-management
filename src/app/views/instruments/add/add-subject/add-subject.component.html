<div class="add-form-holder container">
  <mts-add-form-nav [title]="'К списку предметов'" [link]="'/instruments/list/' + pluralItemsType.SUBJECTS"></mts-add-form-nav>
  <div class="card">
    <div class="card-heading">
      <h4 class="card-title">{{ updateMode ? 'Редактировать' : 'Добавить'}} предмет</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="subjectForm" class="add-form">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-6">
              <label class="form-group">
                <span class="form-label">Название <small class="require-flag">*</small></span>
                <mat-form-field floatLabel="always" appearance="outline">
                  <input formControlName="name" matInput type="text">
                </mat-form-field>
              </label>
            </div>
            <div class="col-md-6">
              <label class="form-group">
                <span class="form-label">Возрастная категория <small class="require-flag">*</small></span>
                <mat-form-field floatLabel="always" appearance="outline">
                  <mat-select formControlName="ageCategories"
                              placeholder="Выберите категорию"
                              disableOptionCentering="true"
                              panelClass="drop-list"
                              multiple>
                    <mat-option *ngFor="let category of ageCategories" [value]="category?.id">
                      {{ category?.name }} - от {{ category.fromAge }} до {{ category.fromAge }} лет
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </label>
            </div>
          </div>
          <div class="buttons-holder">
            <button mat-flat-button
                    color="primary"
                    type="button"
                    [disabled]="subjectForm.invalid"
                    (click)="submit()">
              {{ updateMode ? 'Сохранить' : 'Добавить'}}
            </button>
          </div>
        </div>
      </form>
    </div>

    <div class="loading-spinner" *ngIf="isLoading">
      <mat-spinner></mat-spinner>
      <div class="loading-spinner-overlay"></div>
    </div>

  </div>
</div>
